<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>simpleMap</title>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script
   src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=발급받은 Appkey"></script>
<script type="text/javascript">
   var map, marker1;
   function initTmap() {

      // 1. 지도 띄우기
      map = new Tmapv2.Map("map_div", {
         center : new Tmapv2.LatLng(37.570028, 126.986072),
         width : "100%",
         height : "400px",
         zoom : 15,
         zoomControl : true,
         scrollwheel : true

      });

      // 마커 초기화
      marker1 = new Tmapv2.Marker(
            {
               icon : "http://tmapapi.sktelecom.com/upload/tmap/marker/pin_b_m_a.png",
               iconSize : new Tmapv2.Size(24, 38),
               map : map
            });

      $("#btn_select")
            .click(
                  function() {
                     // 2. API 사용요청
                     var city_do = $("#city_do").val();
                     var gu_gun = $("#gu_gun").val();
                     var dong = $("#dong").val();
                     var bunji = $('#bunji').val();

                     

                     $
                           .ajax({
                              method : "GET",
                              url : "https://apis.openapi.sk.com/tmap/geo/geocoding?version=1&format=json&callback=result",
                              async : false,
                              data : {
                                 "appKey" : "발급AppKey",
                                 "coordType" : "WGS84GEO",
                                 "city_do" : city_do,
                                 "gu_gun" : gu_gun,
                                 "dong" : dong,
                                 "bunji" : bunji
                              },
                              success : function(response) {
                                 var resultData = response.coordinateInfo;
                                 var lon, lat;

                                 if (resultData.lon.length > 0) {
                                    lon = resultData.lon;
                                    lat = resultData.lat;
                                 } else {
                                    lon = resultData.newLon;
                                    lat = resultData.newLat;
                                 }

                                 //기존 마커 삭제
                                 marker1.setMap(null);

                                 var markerPosition = new Tmapv2.LatLng(
                                       Number(lat), Number(lon));
                                 //마커 올리기
                                 marker1 = new Tmapv2.Marker(
                                       {
                                          position : markerPosition,
                                          icon : "http://tmapapi.sktelecom.com/upload/tmap/marker/pin_b_m_a.png",
                                          iconSize : new Tmapv2.Size(
                                                24, 38),
                                          map : map
                                       });
                                 map.setCenter(markerPosition);

                              },
                              error : function(request, status, error) {
                                 console.log("code:"
                                       + request.status + "\n"
                                       + "message:"
                                       + request.responseText
                                       + "\n" + "error:" + error);
                              }
                           });

                  });
   }
</script>
</head>
<body onload="initTmap();">
   <select id="city_do">
      <option value="서울시" selected="selected">서울시</option>
   </select>
   <select id="gu_gun">
      <option value="마포구" selected="selected">마포구</option>
      <option value="서대문구">서대문구</option>
   </select>
   <select id="dong">
      <option value="서교동" selected="selected">서교동</option>
   </select>
      <input type="text" class="text_custom" id="bunji" name="bunji"
         value="1">
   <button id="btn_select">적용하기</button>
   <div id="map_div"></div>
</body>
</html>